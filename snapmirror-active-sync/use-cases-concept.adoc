---
sidebar: sidebar 
permalink: snapmirror-active-sync/use-cases-concept.html 
keywords: SM-BC, SMBC, overview, benefits, use cases, architecture, snapmirror active sync 
summary: Utilizzare SnapMirror Active Sync proteggere le applicazioni con i LUN, consentendo il failover delle applicazioni in modo trasparente, garantendo la business continuity in caso di disastro. 
---
= Casi d'uso per ONTAP SnapMirror ActiveSync
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Le esigenze di un ambiente aziendale connesso a livello globale impongono il rapido ripristino dei dati delle applicazioni aziendali critiche, senza alcuna perdita di dati in caso di interruzioni quali attacchi informatici, interruzioni di corrente o calamità naturali.  Tali esigenze sono più elevate in ambiti come la finanza e quelli che aderiscono a obblighi normativi quali il Regolamento generale sulla protezione dei dati (GDPR).

SnapMirror Active Sync offre i seguenti casi d'utilizzo:

.Implementazione delle applicazioni per RTO (Recovery Time Objective) zero
In una distribuzione SnapMirror ActiveSync, si dispone di un cluster primario e di uno secondario. Una LUN nel cluster primario  `L1P` ) ha uno specchio  `L1S` ) sul secondario; entrambe le LUN condividono lo stesso ID seriale e vengono segnalate all'host come LUN di lettura-scrittura. Nelle configurazioni asimmetriche, tuttavia, le operazioni di lettura e scrittura vengono gestite solo sulla LUN primaria.  `L1P` . Qualsiasi scrittura sullo specchio  `L1S` sono serviti per procura.

.Implementazione dell'applicazione per RTO nullo o failover dell'applicazione trasparente (TAF)
TAF si basa sul failover del percorso basato sul software MPIO dell'host per ottenere un accesso non-interruttivo allo storage. Entrambe le copie LUN, ad esempio la copia primaria (L1P) e la copia mirror (L1S), hanno la stessa identità (numero di serie) e sono segnalate come accessibili in lettura e scrittura all'host. Nelle configurazioni asimmetriche, tuttavia, le letture e le scritture sono gestite solo dal volume primario. Gli I/O emessi per la copia mirror vengono inoltrati tramite proxy alla copia primaria. Il percorso preferito dell'host verso L1 è VS1:N1, in base allo stato di accesso ALUA (Asymmetric Logical Unit Access) Attivo Ottimizzato (A/O). ONTAP Mediator è necessario come parte dell'implementazione, principalmente per eseguire il failover (pianificato o non pianificato) in caso di interruzione dello storage sul primario.

image:snapmirror-active-sync-alua-active-optimized.png["Percorsi ottimizzati attivi ALUA di sincronizzazione attiva SnapMirror"]

TAF opera in due modalità: Failover automatico e Failover duplex automatico. Con il Failover automatico, le letture e le scritture sono gestite solo dal volume primario, pertanto gli I/O emessi sulla copia mirror (che non può gestire autonomamente le scritture) vengono inoltrati tramite proxy alla copia primaria. Con il Failover duplex automatico, sia la copia primaria che quella secondaria possono gestire gli I/O, quindi non è necessario alcun proxy.

image:snapmirror-active-sync-automatedfailoverduplex-scenario.png["Scenario AutomatedFailoverDuplex di SnapMirror ActiveSync"]

Se si utilizza NVMe per l'accesso host con ONTAP 9.17.1, è supportata solo la policy AutomatedFailoverDuplex.

SnapMirror Active Sync utilizza ALUA, un meccanismo che consente a un software di multipathing per host di applicazioni con percorsi pubblicizzati con priorità e disponibilità dell'accesso per la comunicazione dell'host dell'applicazione con l'array di storage. ALUA contrassegna i percorsi ottimizzati attivi verso i controller proprietari del LUN e altri come percorsi non ottimizzati attivi, utilizzati solo in caso di guasto del percorso primario.

La sincronizzazione attiva SnapMirror con il protocollo NVMe utilizza l'accesso asimmetrico allo spazio dei nomi (ANA), che consente agli host delle applicazioni di individuare percorsi ottimizzati e non ottimizzati per gli spazi dei nomi NVMe protetti. Il target NVMe ONTAP pubblica gli stati del percorso appropriati per consentire agli host delle applicazioni di utilizzare il percorso ottimale per uno spazio dei nomi NVMe protetto.

.Applicazioni in cluster
Le applicazioni in cluster, tra cui VMware Metro Storage Cluster, Oracle RAC e Windows Failover Clustering con SQL, richiedono l'accesso simultaneo in modo che le VM possano essere sottoposte a failover su altri siti senza alcun sovraccarico di prestazioni. SnapMirror ActiveSync Symmetric Active/Active fornisce I/O localmente con replica bidirezionale per soddisfare i requisiti delle applicazioni in cluster.  A partire da ONTAP 9.16.1, la configurazione attiva/attiva simmetrica è supportata in cluster a quattro nodi, ampliando il limite dei cluster a due nodi di ONTAP 9.15.1.

.Scenario di disastro
Replica in modo sincrono più volumi per un'applicazione tra i siti in ubicazioni disperse geograficamente. È possibile eseguire automaticamente il failover sulla copia secondaria in caso di interruzione del primario, consentendo così la business continuity per le applicazioni di primo livello. Quando il sito che ospita il cluster primario subisce un disastro, il software multipath dell'host contrassegna tutti i percorsi nel cluster come inattivi e utilizza i percorsi dal cluster secondario. Il risultato è un failover senza interruzioni abilitato da ONTAP Mediator alla copia mirror.

.Supporto esteso per le applicazioni
La sincronizzazione attiva SnapMirror offre flessibilità con granularità a livello di applicazione di facile utilizzo e failover automatico.  SnapMirror Active Sync utilizza la comprovata replica sincrona SnapMirror su una rete IP per replicare i dati ad alta velocità su LAN o WAN, per ottenere un'elevata disponibilità dei dati e una replica rapida dei dati per le applicazioni aziendali critiche come Oracle, Microsoft SQL Server e così via, sia in ambienti virtuali che fisici.

La sincronizzazione attiva SnapMirror consente ai servizi aziendali critici di continuare a funzionare anche in caso di guasto completo del sito, con TAF sulla copia secondaria.  Per attivare questo failover non è richiesto alcun intervento manuale o scripting aggiuntivo.
